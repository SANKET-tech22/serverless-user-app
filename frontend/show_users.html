  <!doctype html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Show Users</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      :root{--bg:#071024;--card:#07182b;--accent:#06b6d4;--text:#e6eef8}
      body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,var(--bg),#041028);color:var(--text);display:flex;align-items:flex-start;justify-content:center;padding:36px}
      .card{background:rgba(255,255,255,0.03);padding:20px;border-radius:12px;width:100%;max-width:900px}
      table{width:100%;border-collapse:collapse;margin-top:12px}
      th,td{padding:10px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.04)}
      .muted{color:rgba(230,238,248,0.7);font-size:13px}
      button{padding:8px 12px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--accent),#0891b2);color:white;cursor:pointer}
    </style>
  </head>
  <body>
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2 style="margin:0">Users</h2>
        <div><button onclick="location.href='index.html'">‚Üê Back</button></div>
      </div>
      <p class="muted" id="count">Loading...</p>
      <table id="tbl">
        <thead><tr><th>Username</th><th>Mobile</th><th>Requirement</th><th>Created</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <script>
      const API_BASE = 'https://poixv6i8c7.execute-api.ap-south-1.amazonaws.com/dev'; // <-- replace with your API Gateway base URL
      async function load(){
        try{
          const res = await fetch(API_BASE + '/users');
          const data = await res.json();
          if (!res.ok) throw new Error(data.message || 'Failed to fetch');
          const tbody = document.querySelector('#tbl tbody');
          tbody.innerHTML = '';
          data.users.forEach(u=>{
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${u.username}</td><td>${u.mobile||''}</td><td>${u.requirement||''}</td><td>${u.created_at||''}</td>`;
            tbody.appendChild(tr);
          });
          document.getElementById('count').textContent = `Total: ${data.users.length} user(s)`;
        }catch(err){
          document.getElementById('count').textContent = 'Error: ' + err.message;
        }
      }
      load();
    </script>
  </body>
  </html>
